(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(5),c=n.n(l),o=(n(12),n(2)),u=n(6),i=n(1),s=n(3),m=a.a.createContext();function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return{board:Array(e).fill(Array(e).fill(null)),isFirstPlayerTurn:!0,winner:null,previousState:null,nextState:null}}function p(e){for(var t=e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return null!==t&&r.every(function(e){return e===t})?t:null}var f=function(e){var t=e.children,n=Object(r.useReducer)(function(e,t){return Object(s.a)(e,function(n){switch(t.type){case"play":var r=t.x,a=t.y;e.winner||e.board[r][a]||(n.board[r][a]=e.isFirstPlayerTurn?1:2,n.isFirstPlayerTurn=!e.isFirstPlayerTurn,n.winner=function(e){var t=function(e){return[e.map(function(e,t){return e[t]}),e.map(function(t,n){return t[e.length-n-1]})]}(e),n=Object(i.a)(t,2),r=n[0],a=n[1];return p.apply(void 0,Object(o.a)(r))||p.apply(void 0,Object(o.a)(a))||e.reduce(function(t,n,r){return t||p.apply(void 0,Object(o.a)(n))||p.apply(void 0,Object(o.a)(function(e,t){return t.reduce(function(t,n){return t.push(n[e]),t},[])}(r,e)))},null)}(n.board),n.previousState=e,n.nextState=null);break;case"reset":return d(e.board.length);case"undo":return e.previousState?Object(u.a)({},e.previousState,{nextState:e}):s.b;case"redo":return e.nextState||s.b;case"resize":return d(t.size)}})},d(3)),l=Object(i.a)(n,2),c=l[0],f=l[1];return a.a.createElement(m.Provider,{value:{state:c,play:function(e,t){return f({type:"play",x:e,y:t})},reset:function(){return f({type:"reset"})},undo:function(){return f({type:"undo"})},redo:function(){return f({type:"redo"})},resize:function(e){return f({type:"resize",size:e})}}},t)},b=a.a.memo(function(e){var t=e.data,n=e.onClick,r="game-cell ".concat(1===t?"own-by-first":2===t?"own-by-second":""),l=1===t?"X":2===t?"O":null;return a.a.createElement("td",{onClick:n,className:r},l)});function E(e){return Object(r.useMemo)(function(){return a.a.createElement(b,e)},[e.data])}var y=function(){var e,t,n=Object(r.useContext)(m),l=n.state,c=l.board,o=l.winner,u=l.isFirstPlayerTurn,s=n.reset,d=n.play,p=n.undo,f=n.redo,b=n.resize,y=Object(r.useState)(0),v=Object(i.a)(y,2),g=v[0],h=v[1],w=Object(r.useState)(0),S=Object(i.a)(w,2),O=S[0],j=S[1];function k(e){return Array(c.length).fill(null).map(function(t,n){return e(n)})}return e=function(){o||(u?h(g+100):j(O+100))},t=100,Object(r.useEffect)(function(){var n=setInterval(e,t);return function(){return clearInterval(n)}}),a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"3"},a.a.createElement("div",{className:"game-size-wrapper"},a.a.createElement("label",{htmlFor:"game-size"},"Board size"),a.a.createElement("input",{id:"game-size",type:"number",value:c.length,onChange:function(e){return b(Number(e.target.value))}})))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"1"},a.a.createElement("p",null,Math.round(g/1e3)," s")),a.a.createElement("td",{colSpan:"1"}),a.a.createElement("td",{colSpan:"1"},a.a.createElement("p",null,Math.round(O/1e3)," s")))),a.a.createElement("tbody",{className:"game-board"},k(function(e){return a.a.createElement("tr",{key:e,className:"game-row"},k(function(t){return a.a.createElement(E,{key:"".concat(e).concat(t),data:c[e][t],onClick:function(){return d(e,t)}})}))})),a.a.createElement("tfoot",null,a.a.createElement("tr",null,String(c.length-3)>0&&a.a.createElement("td",{colSpan:String(c.length-3)}),a.a.createElement("td",{colSpan:"1"},a.a.createElement("button",{className:"game-reset",onClick:function(){h(0),j(0),s()}},"Reset")),a.a.createElement("td",{colSpan:"1"},a.a.createElement("button",{className:"game-reset",onClick:p},"Undo")),a.a.createElement("td",{colSpan:"1"},a.a.createElement("button",{className:"game-reset",onClick:f},"Redo"))),a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"3"},o&&"Player ".concat(o," win.")))))};n(15);var v=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(f,null,a.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,n){e.exports=n(17)}},[[7,2,1]]]);
//# sourceMappingURL=main.c63c12a7.chunk.js.map